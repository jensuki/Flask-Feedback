{% extends "base.html" %}

{% block content %}
<div class="container">
    <h1>Your Profile</h1>
    <p><strong>Username:</strong> {{ user.username }}</p>
    <p><strong>Email:</strong> {{ user.email }}</p>
    <p><strong>First Name:</strong> {{ user.first_name }}</p>
    <p><strong>Last Name:</strong> {{ user.last_name }}</p>
    <!--Delete account-->
    <form action="/users/{{ user.username }}/delete" method="POST" style="display:inline;">
        <button type="submit" class="badge badge-danger">Delete My Account</button>
    </form>
</div>
<hr>
<h2>Your Feedback:</h2>
<ul>
    {% for feedback in feedbacks %}
    <li>
        <h4>{{ feedback.title }}</h4>
        <p>{{ feedback.content }}</p>
        <a href="/feedback/{{ feedback.id }}/update" class="btn btn-secondary btn-sm">Edit</a>
        <form action="/feedback/{{ feedback.id }}/delete" method="POST" style="display:inline;">
            <button type="submit" class="btn btn-danger btn-sm"><i class="fas fa-trash-alt"></i></button>
        </form>
    </li>
    {% else %}
    <li>No feedback yet.</li>
    {% endfor %}
</ul>

<a href="/users/{{ user.username }}/feedback/add" class="btn btn-primary">Add Feedback</a>

{% endblock %}